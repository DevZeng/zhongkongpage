webpackJsonp([3],{DKhZ:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l("mvHQ"),a=l.n(s),i=void 0,o={data:function(){return{tableData:[],cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,editVisible:!1,delVisible:!1,form:{user_iphone:"",user_name:"",user_pwd:""},idx:-1,total:0,username:""}},created:function(){this.getData(),this.username=localStorage.getItem("faceA_username")},computed:{data:function(){var e=this;return this.tableData.filter(function(t){for(var l=!1,s=0;s<e.del_list.length;s++)if(t.name===e.del_list[s].name){l=!0;break}if(!l&&t.address.indexOf(e.select_cate)>-1&&(t.name.indexOf(e.select_word)>-1||t.address.indexOf(e.select_word)>-1))return t})}},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this;$.ajax({type:"get",url:json.https+"/login/select_all_login",headers:{},success:function(t){console.log(t),e.tableData=t.data}})},handleAdd:function(e,t){this.idx=e;this.tableData[e];this.form={user_iphone:"",user_name:"",user_pwd:""},this.editVisible=!0},handleDelete:function(e,t){i=t.id,this.idx=e,this.delVisible=!0},saveEdit:function(){var e=this;$.ajax({type:"post",url:json.https+"/login/insert_login",data:a()(e.form),headers:{"content-type":"application/json; charset=UTF-8"},success:function(t){console.log(t),200==t.code?(e.getData(),e.editVisible=!1,e.$message.success("添加成功")):e.$message.error(t.error)}})},deleteRow:function(){console.log(i);var e=this;$.ajax({type:"delete",url:json.https+"/login/delete_login/"+i,headers:{},success:function(t){console.log(t),200==t.code?(e.tableData.splice(e.idx,1),e.$message.success("删除成功"),e.delVisible=!1):e.$message.error(t.error)}})}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"table"},[l("div",{staticClass:"crumbs"},[l("el-breadcrumb",{attrs:{separator:"/"}},[l("el-breadcrumb-item",[l("i",{staticClass:"el-icon-tickets"}),e._v(" 管理员管理")])],1)],1),e._v(" "),l("div",{staticClass:"container"},[l("div",{staticClass:"handle-box"},[l("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:e.handleAdd}},[e._v("添加管理员")])],1),e._v(" "),l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),l("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"",width:"150"}}),e._v(" "),l("el-table-column",{attrs:{prop:"user_name",label:"用户名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"user_iphone",label:"电话"}}),e._v(" "),l("el-table-column",{attrs:{prop:"creatime",label:"创建时间"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.user_iphone!=e.username?l("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(l){e.handleDelete(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"编辑",visible:e.editVisible,width:"30%"},on:{"update:visible":function(t){e.editVisible=t}}},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[l("el-form-item",{attrs:{label:"姓名"}},[l("el-input",{model:{value:e.form.user_name,callback:function(t){e.$set(e.form,"user_name",t)},expression:"form.user_name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"电话"}},[l("el-input",{model:{value:e.form.user_iphone,callback:function(t){e.$set(e.form,"user_iphone",t)},expression:"form.user_iphone"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"密码"}},[l("el-input",{model:{value:e.form.user_pwd,callback:function(t){e.$set(e.form,"user_pwd",t)},expression:"form.user_pwd"}})],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.saveEdit}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"提示",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[l("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var n=l("VU/8")(o,r,!1,function(e){l("XRY2")},"data-v-fb57adcc",null);t.default=n.exports},XRY2:function(e,t){},mvHQ:function(e,t,l){e.exports={default:l("qkKv"),__esModule:!0}},qkKv:function(e,t,l){var s=l("FeBl"),a=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}});